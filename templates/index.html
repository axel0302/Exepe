<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expérience de Perception des Mots</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div id="app">
        <!-- Écran d'accueil -->
        <div id="welcome-screen" class="screen active">
            <div class="container">
                <h1>Expérience de Perception des Mots</h1>
                <div class="instructions">
                    <p>Cette expérience étudie l'effet de la couleur sur la reconnaissance rapide des mots.</p>
                    <br>
                    <p>Vous allez voir des stimuli (mots et non-mots) affichés très brièvement.</p>
                    <p>Votre tâche est d'identifier chaque stimulus parmi 4 choix proposés.</p>
                    <br>
                    <p><strong>L'expérience se déroule en 3 blocs :</strong></p>
                    <ul>
                        <li>1. Stimuli en noir sur fond blanc (12 essais)</li>
                        <li>2. Stimuli en couleur sur fond blanc (12 essais)</li>
                        <li>3. Stimuli colorés sur fonds colorés (12 essais)</li>
                    </ul>
                    <br>
                    <p class="important"><strong>IMPORTANT: Fixez toujours la croix au centre !</strong></p>
                    <p class="important">Les temps d'affichage sont très courts (50ms)</p>
                    <br>
                    <p class="speed-emphasis"><strong>IMPORTANT: Répondez le plus RAPIDEMENT et précisément possible !</strong></p>
                    <p class="speed-emphasis">La vitesse de réponse est cruciale pour cette expérience.</p>
                </div>
                
                <div class="participant-info">
                    <p><strong>ID Participant :</strong> <span id="participant-id-display">Sera généré automatiquement</span></p>
                </div>
                
                <button id="start-btn" class="btn-primary">Commencer l'Expérience</button>
            </div>
        </div>

        <!-- Instructions de bloc -->
        <div id="block-instructions" class="screen">
            <div class="container">
                <h2 id="block-title"></h2>
                <div id="block-description" class="instructions"></div>
                <button id="start-block-btn" class="btn-primary">Commencer ce Bloc</button>
            </div>
        </div>

        <!-- Écran d'essai -->
        <div id="trial-screen" class="screen">
            <div class="container">
                <div id="trial-info">
                    <h3 id="trial-counter"></h3>
                    <p>Fixez la croix et préparez-vous...</p>
                </div>
                <div id="fixation-cross">+</div>
                <div id="stimulus-display"></div>
            </div>
        </div>

        <!-- Écran de choix -->
        <div id="choice-screen" class="screen">
            <div class="container">
                <h3>Quel mot avez-vous vu ? (Répondez RAPIDEMENT !)</h3>
                <div id="choices-container">
                    <button class="choice-btn" data-choice="0">1. </button>
                    <button class="choice-btn" data-choice="1">2. </button>
                    <button class="choice-btn" data-choice="2">3. </button>
                    <button class="choice-btn" data-choice="3">4. </button>
                </div>
                <p class="instructions">Utilisez les touches 1-4 ou cliquez pour répondre RAPIDEMENT</p>
                <p class="speed-priority">VITESSE = PRIORITÉ !</p>
            </div>
        </div>

        <!-- Écran de feedback -->
        <div id="feedback-screen" class="screen">
            <div class="container">
                <div id="feedback-message"></div>
                <div id="feedback-details"></div>
            </div>
        </div>

        <!-- Pause entre blocs -->
        <div id="pause-screen" class="screen">
            <div class="container">
                <h2 id="pause-title"></h2>
                <div id="pause-message" class="instructions"></div>
                <button id="continue-btn" class="btn-primary">Continuer</button>
            </div>
        </div>

        <!-- Résultats finaux -->
        <div id="results-screen" class="screen">
            <div class="container">
                <h2>Résultats de l'Expérience</h2>
                <div id="results-content" class="instructions"></div>
                <p class="thank-you">Merci d'avoir participé à cette expérience !</p>
                <button id="restart-btn" class="btn-secondary">Recommencer</button>
            </div>
        </div>

        <!-- Écran de chargement -->
        <div id="loading-screen" class="screen">
            <div class="container">
                <div class="loading-spinner"></div>
                <p>Chargement...</p>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
